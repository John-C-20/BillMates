{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/guest.js","webpack:///./src/scripts/item.js","webpack:///./src/scripts/modals.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Guest","this","items","subtotal","tip","tax","Number","Item","price","buyers","closeModal","el","document","querySelector","parentNode","removeChild","toggleCustomTip","selected","getElementById","customAmt","disabled","checked","focus","window","onclick","e","target","matches","currentState","guests","total","saveItem","preventDefault","form","formData","FormData","itemName","itemPrice","getAll","itemQty","length","item","push","addItemToBill","forEach","guest","user","find","u","guestBill","tr","createElement","innerHTML","toFixed","appendChild","addItemToGuest","Modal","saveUser","guestName","list","div","className","id","addGuestToTable","saveTip","tipRate","tipAmt","ratio","splitCustomTip","parseFloat","applyTipRate","saveTax","taxAmt","splitTax","itemList","addEventListener","options","map","join","body","props"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export default class Guest {\n    constructor(name) {\n        this.name = name;\n        this.items = [];  \n        this.subtotal = 0;\n        this.tip = 0;\n        this.tax = 0;\n    }\n\n    get total() {\n        return Number(this.subtotal) + Number(this.tip) + Number(this.tax) \n    }\n}\n","export default class Item {\n    constructor(name, price) {\n        this.name = name;\n        this.price = price; \n        this.buyers = []; \n    }\n}","window.onclick = e => {\n    // close modal by clicking anywhere on the modal screen\n    if (e.target.matches('.modal-screen')) {\n        closeModal();\n    }\n}\n\nexport function closeModal() {\n    const el = document.querySelector('.modal')\n    el.parentNode.removeChild(el)\n}\n\nexport function addItemModal(props) {\n    // verifications: \n    // item must belong to a guest \n    // const options = props.guests.map( guest => `<option value=\"${guest.name}\">${guest.name}</option>`) \n    const options = props.guests.map( guest => \n        `\n        <div>\n        <input type=\"checkbox\" name=\"item-guests\" id=\"checkbox-${guest.name}\" value=\"${guest.name}\">\n        <label for=\"item-guest\">${guest.name}</label>\n        </div>\n        `) \n    const div = document.createElement('div');\n    div.className = \"modal\";\n    div.innerHTML = `\n        <div class=\"modal-screen\">\n        </div>\n        <div class=\"modal-form\">\n            <form>\n                <div id=\"item-name\">\n                    <label for=\"item-name\">Item Name</label>\n                    <input type=\"text\" id=\"item-name\" name=\"item-name\" required>\n                </div>\n                <div id=\"item-price\">\n                    <label for=\"item-price\">Price</label>\n                    <input type=\"text\" id=\"item-price\" name=\"item-price\" required>\n                </div>\n                <div id=\"item-guests\">\n                    Assign to guest(s): \n                    <div></div>\n                    <div></div>\n                    ${options.join(\"\")}\n                </div>\n\n              <button id=\"submit\"\">Add Item</button>\n\n            </form>\n        </div>\n              `\n            //   <label for=\"item-guest\">Assign to guest</label>\n            //   <select id=\"item-guest\" name=\"item-guest\">\n            //       ${options}\n            //   </select>\n    document.body.appendChild(div)\n    document.querySelector(\"input#item-name\").focus()\n}\n\nexport function addGuestModal(props) {\n    // verifications: \n    // name must start with a letter \n    // names must be unique \n    const div = document.createElement('div');\n    div.className = \"modal\";\n    div.innerHTML = `\n        <div class=\"modal-screen\">\n        </div>\n        <div class=\"modal-form\">\n            <form>\n                <div id=\"guest-name\">\n                    <label for=\"guest-name\">Guest Name</label>\n                    <input type=\"text\" id=\"guest-name\" name=\"guest-name\" value=\"Guest${props.guests.length+1}\" placeholder=\"Enter guest name\" required>\n                </div>\n                <button id=\"submit\"\">Add Guest</button>\n            </form>\n        </div>\n    `\n    document.body.appendChild(div)\n    document.querySelector(\"input#guest-name\").focus()\n}\n\nexport function addTipModal() {\n    const div = document.createElement('div');\n    div.className = \"modal\";\n    div.innerHTML = `\n        <div class=\"modal-screen\">\n        </div>\n        <div class=\"modal-form\">\n            <form>\n                <div id=\"tip-rate\">\n                    <h2>Select Tip Rate</h2>\n                    <div>\n                        <div>\n                            <input type=\"radio\" id=\"tip15\" name=\"tip-rate\" value=\"15%\">\n                            <label for=\"tip15\">15%</label>\n                        </div>\n                        <div>\n                            <input type=\"radio\" id=\"tip18\" name=\"tip-rate\" value=\"18%\">\n                            <label for=\"tip18\">18%</label>\n                        </div>\n                        <div>\n                            <input type=\"radio\" id=\"tip20\" name=\"tip-rate\" value=\"20%\">\n                            <label for=\"tip20\">20%</label>\n                        </div>\n                        <div>\n                            <input type=\"radio\" id=\"tip-custom\" name=\"tip-rate\" value=\"custom\">\n                            <label for=\"tip-custom\">Custom Amount</label>\n                            <input type=\"text\" id=\"tip-amount\" name=\"tip-amount\" placeholder=\"Enter custom amount\" disabled> \n                        </div>\n                    </div>\n                </div>\n    \n                <button id=\"submit\"\">Add Tip</button>\n            </form>\n        </div>\n    `\n    document.body.appendChild(div)\n}\n\nexport function toggleCustomTip(){\n    var selected = document.getElementById(\"tip-custom\");\n    var customAmt = document.getElementById(\"tip-amount\");\n    customAmt.disabled = selected.checked ? false : true \n    if (!customAmt.disabled) { customAmt.focus() };\n}\n\nexport function addTaxModal() {\n    const div = document.createElement('div');\n    div.className = \"modal\";\n    div.innerHTML = `\n        <div class=\"modal-screen\">\n        </div>\n        <div class=\"modal-form\">\n            <form>\n                <div id=\"tax-amount\">\n                    <label for=\"tax-amount\">Calculate Tax</label>\n                    <input type=\"text\" id=\"tax-amount\" name=\"tax-amount\" placeholder=\"Enter tax amount\" required>\n                </div>\n    \n                <button id=\"submit\"\">Add Tax</button>\n            </form>\n        </div>\n    `\n    document.body.appendChild(div)\n}\n\nexport function instructionsModal() {\n    const div = document.createElement('div');\n    div.className = \"modal\";\n    div.innerHTML = `\n        <div class=\"modal-screen\">\n        </div>\n        <div class=\"modal-form\">\n            <form>\n                <div id=\"instructions\">\n                    <h2> How to Use </h2> \n                    <ol>\n                        <li> Use the \"Add Guest\" button to add all recipients to the bill. </li>\n                        <li> Next, add items to the bill and assign them to one or more guests. </li> \n                        <li> Once all items have been added, press \"Add Tip\" to choose a tip rate or enter a custom tip amount. </li> \n                        <li> Add the tax amount displayed on your bill or receipt. </li> \n                        <li> Finally, press \"Calculate\" to calculate the total amount of your bill as well as the individual totals owed by each guest. </li>\n                    </ol>\n                </div>\n    \n                <button id=\"submit\">Done</button>\n\n            </form>\n        </div>\n    `\n    document.body.appendChild(div)\n}","import \"./styles/index.scss\";\nimport \"./styles/reset.scss\";\nimport \"./styles/modal.scss\";\nimport Guest from \"./scripts/guest\";\nimport Item from \"./scripts/item\";\nimport * as Modal from \"./scripts/modals\";\n\nexport const currentState = {\n    items: [],\n    guests: [],\n    subtotal: 0.00,\n    tip: 0.00,\n    tax: 0.00,\n    total: 0.00\n}\n\n\ndocument.querySelector(\"button#items\").addEventListener(\"click\", () => {\n    Modal.addItemModal(currentState)\n    document.querySelector(\"button#submit\").addEventListener(\"click\", saveItem);\n});\n\ndocument.querySelector(\"button#users\").addEventListener(\"click\", () => {\n    Modal.addGuestModal(currentState)\n    document.querySelector(\"button#submit\").addEventListener(\"click\", saveUser);\n});\n\ndocument.querySelector(\"button#tip\").addEventListener(\"click\", () => {\n    Modal.addTipModal()\n    document.getElementById(\"tip15\").addEventListener(\"click\", Modal.toggleCustomTip)\n    document.getElementById(\"tip18\").addEventListener(\"click\", Modal.toggleCustomTip)\n    document.getElementById(\"tip20\").addEventListener(\"click\", Modal.toggleCustomTip)\n    document.getElementById(\"tip-custom\").addEventListener(\"click\", Modal.toggleCustomTip)\n    document.querySelector(\"button#submit\").addEventListener(\"click\", saveTip);\n});\n\ndocument.querySelector(\"button#tax\").addEventListener(\"click\", () => {\n    Modal.addTaxModal()\n    document.querySelector(\"button#submit\").addEventListener(\"click\", saveTax);\n})\n\ndocument.querySelector(\"button#calculate\").addEventListener(\"click\", calculate);\n\ndocument.querySelector(\"button#instructions\").addEventListener(\"click\", () => {\n    Modal.instructionsModal()\n    document.querySelector(\"button#submit\").addEventListener(\"click\", (e) => {\n        e.preventDefault()\n        Modal.closeModal()\n    });\n});\n\nfunction saveItem(e) {\n    e.preventDefault();\n    const form = document.querySelector(\"form\")\n    const formData = new FormData(form)\n    const itemName = formData.get(\"item-name\")\n    const itemPrice = formData.get(\"item-price\")\n    const guests = formData.getAll(\"item-guests\")\n    const itemQty = guests.length\n    const item = new Item(itemName, Number(itemPrice * 1.0)/itemQty)\n    for (let i = 0; i < itemQty; i++) {\n        currentState.items.push(item)\n        addItemToBill(item)\n    }\n    guests.forEach( guest => addItemToGuest(item, guest))\n    Modal.closeModal()\n}\n\nfunction saveUser(e) {\n    e.preventDefault();\n    const form = document.querySelector(\"form\")\n    const formData = new FormData(form)\n    const guestName = formData.get(\"guest-name\")\n    const guest = new Guest(guestName)\n    currentState.guests.push(guest)\n    Modal.closeModal()\n    addGuestToTable(guest)\n}\n\nfunction saveTip(e) {\n    e.preventDefault();\n    const form = document.querySelector(\"form\");\n    const formData = new FormData(form)\n    const tipRate = formData.get(\"tip-rate\");\n    const tipAmt = Number(formData.get(\"tip-amount\"));\n    if (tipRate === \"custom\") { splitCustomTip(tipAmt) }\n    else { applyTipRate(tipRate) };\n    Modal.closeModal();\n}\n\nfunction saveTax(e){\n    e.preventDefault();\n    const form = document.querySelector(\"form\");\n    const formData = new FormData(form)\n    const taxAmt = Number(formData.get(\"tax-amount\"));\n    splitTax(taxAmt)\n    Modal.closeModal();\n}\n\nfunction splitTax(taxAmt) {\n    currentState.tax = Number(taxAmt)\n    const tax = document.querySelector(\".tax > td.right\")\n    tax.innerHTML = `$${currentState.tax.toFixed(2)}`\n\n    currentState.guests.forEach(guest => {\n        const ratio = guest.subtotal * 1.0 / currentState.subtotal\n        const tax = (taxAmt * ratio).toFixed(2)\n        guest.tax = tax \n        const guestTax = document.querySelector(`.tax.${guest.name} > td.right`)\n        guestTax.innerHTML = `$${guest.tax}`\n    })\n}\n\nfunction splitCustomTip(tipAmt) {\n    currentState.tip = Number(tipAmt)\n    const tip = document.querySelector(\".tip > td.right\")\n    tip.innerHTML = `$${currentState.tip.toFixed(2)}`\n\n    currentState.guests.forEach(guest => {\n        const ratio = guest.subtotal * 1.0 / currentState.subtotal \n        const tip = (tipAmt * ratio).toFixed(2)\n        guest.tip = tip \n        const guestTip = document.querySelector(`.tip.${guest.name} > td.right`)\n        guestTip.innerHTML = `$${guest.tip}`\n    })\n};\n\nfunction applyTipRate(tipRate) {\n    tipRate = parseFloat(tipRate) / 100.0\n    currentState.tip = Number(currentState.subtotal) * (tipRate)\n    const tip = document.querySelector(\".tip > td.right\")\n    tip.innerHTML = `$${currentState.tip.toFixed(2)}`\n\n    currentState.guests.forEach(guest => {\n        guest.tip = (guest.subtotal * tipRate).toFixed(2)\n        const guestTip = document.querySelector(`.tip.${guest.name} > td.right`)\n        guestTip.innerHTML = `$${guest.tip}` \n    })\n}\n\nfunction addItemToBill(item){\n    const itemList = document.querySelector(\"table#items\") \n    const tr = document.createElement('tr')\n    tr.innerHTML = `\n    <td class=\"left\" id=\"item-name\">\n    ${item.name}\n    </td>\n    <td class=\"right\" id=\"item-price\">\n    $${Number(item.price).toFixed(2)}      \n    </td> \n    `\n    itemList.appendChild(tr)\n    \n    currentState.subtotal += Number(item.price)\n    const subtotal = document.querySelector(\".subtotal > td.right\") \n    subtotal.innerHTML = `$${currentState.subtotal.toFixed(2)}`\n}\n\nfunction addItemToGuest(item, guest) {\n    const user = currentState.guests.find(u => u.name == guest)\n    user.items.push(item)\n    const guestBill = document.querySelector(`.${guest}`)\n    const tr = document.createElement(\"tr\")\n    tr.innerHTML = `\n    <td class=\"left\" id=\"item-name\">\n        ${item.name}\n    </td>\n    <td class=\"right\" id=\"item-price\">\n        $${Number(item.price).toFixed(2)}      \n    </td> \n    `\n    guestBill.appendChild(tr)\n\n    user.subtotal = 0\n    user.items.forEach( item => user.subtotal += Number(item.price) )\n    const subtotalEl = document.querySelector(`.subtotal.${guest} > td.right`)\n    subtotalEl.innerHTML = `$${user.subtotal.toFixed(2)}`\n\n}\n\nfunction addGuestToTable(guest){\n    const list = document.querySelector(\"div.content#users\") \n    const div = document.createElement(\"div\")\n    div.className = \"box\"\n    div.id = \"user\"\n    div.innerHTML = `\n        <div class=\"header row\" id=\"users\">${guest.name}</div>\n        <div class=\"content\" id=\"user\">\n            <table class=\"${guest.name}\" id=\"users ${guest.name}\">\n                <tr>\n                    <th>Item</th>\n                    <th>Price</th>\n                </tr>\n            </table>\n        </div>\n        <div class=\"footer\" id=\"user\">\n            <table>\n                <tr class=\"subtotal ${guest.name}\" >\n                    <td>Subtotal</td>\n                    <td class=\"right\">$0.00</td>\n                </tr>\n\n                <tr class=\"tip ${guest.name}\">\n                    <td>Tip</td>\n                    <td class=\"right\">$0.00</td>\n                </tr>\n                <tr class=\"tax ${guest.name}\">\n                    <td>Tax</td>\n                    <td class=\"right\">$0.00</td>\n                </tr>\n                <tr class=\"total ${guest.name}\">\n                    <td>Total</td>\n                    <td class=\"right\">$0.00</td>\n                </tr>\n            </table>\n        </div>\n    `\n    list.appendChild(div)\n}\n\nfunction calculate(e) {\n    e.preventDefault();\n    currentState.total = currentState.subtotal + currentState.tip + currentState.tax\n    const total = document.querySelector(\".total > td.right\")\n    total.innerHTML = `$${currentState.total.toFixed(2)}`\n\n    currentState.guests.forEach(guest => {\n        const guestTotal = document.querySelector(`.total.${guest.name} > td.right`)\n        guestTotal.innerHTML = `$${guest.total.toFixed(2)}`\n    })\n}\n\n// window.currentState = currentState\n"],"sourceRoot":""}